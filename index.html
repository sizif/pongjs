<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Pong game</title>
</head>
<body>
	<canvas id="gameCanvas" width="800" height="600"></canvas>
	
	<script>
	var canvas;
	var canvasContext;
	var ballX = 50;
	var ballSpeedX = 5;
	
	window.onload = function() {
		canvas = document.getElementById('gameCanvas');
		canvasContext = canvas.getContext('2d');
		
		var framesPerSecond = 30;
		setInterval(function() { // pass an anon fn to setInterval, as it's first param
			moveEverything();
			drawEverything();
		}, 1000/framesPerSecond); // Increase update rate for smoother movement - important, see in browser 
	}
	

	
	function moveEverything() {
		ballX = ballX + ballSpeedX;  // make the ball move by 5 px
		if(ballX < 0) {
			ballSpeedX = -ballSpeedX;
		}
		if(ballX > canvas.width) {
			ballSpeedX = -ballSpeedX;
		}
	}
	
	function drawEverything() {
		// next line blanks out the screen with black
		colorRect(0,0,canvas.width,canvas.height,'black');
		
		// this is left player paddle
		colorRect(0,210,10,100,'white');
		
		// next line draws the ball
		canvasContext.fillStyule = 'red';
		canvasContext.beginPath();
		canvasContext.arc(ballX, 100, 10, 0, Math.PI*2, true);
		canvasContext.fill();
	}
	
	function colorRect(leftX, topY, width, height, drawColor) {
		canvasContext.fillStyle = drawColor;
		canvasContext.fillRect(leftX, topY, width, height);
	}
	</script>
</body>
</html>